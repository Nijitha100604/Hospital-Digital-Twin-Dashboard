import mongoose from "mongoose";

// Auto-Generate Staff ID (S001, S002...)
async function generateStaffId() {
  const lastRecord = await staffModel.findOne().sort({ _id: -1 });
  if (!lastRecord) return "STF0001";

  const lastId = lastRecord.staffId;
  const numeric = parseInt(lastId.substring(3)) + 1;
  return "STF" + numeric.toString().padStart(4, "0");
}

const staffSchema = new mongoose.Schema({
  staffId: {
    type: String,
    unique: true,
  },
  fullName: {
    type: String,
    required: [true, "Full Name is required"],
    trim: true,
  },
  gender: {
    type: String,
    required: [true, "Gender is required"],
    enum: ["Male", "Female", "Other"],
  },
  email: {
    type: String,
    required: [true, "Email is required"],
    unique: true,
    lowercase: true,
    trim: true,
  },
  contactNumber: {
    type: String, // String allows preserving leading zeros if any
    required: [true, "Contact Number is required"],
    trim: true,
  },
  dateOfBirth: {
    type: Date,
    required: [true, "Date of Birth is required"],
  },
  profilePhoto: {
    type: String, // Store image as Base64 string or URL
    default: "data:image/jpeg;base64,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",
  },
  address: {
    type: String,
    required: [true, "Address is required"],
    trim: true,
  },
  
  // Qualification Details
  designation: {
    type: String,
    required: [true, "Designation is required"],
    enum: ["Doctor", "Nurse", "Admin", "Support", "Technician", "Receptionist"], 
  },
  department: {
    type: String,
    required: [true, "Department is required"],
  },
  qualification: {
    type: String,
    required: [true, "Qualification is required"],
    trim: true,
  },
  specialization: {
    type: String,
    default: "General",
    trim: true,
  },
  experience: {
    type: Number, // Years of experience
    required: [true, "Years of Experience is required"],
    min: 0,
  },
  licenseNumber: {
    type: String,
    required: [true, "License/Registration Number is required"],
    unique: true,
    trim: true,
  },
  employmentType: {
    type: String,
    required: [true, "Employment Type is required"],
    enum: ["Permanent", "Contract", "Visiting", "Intern"],
  },
  joiningDate: {
    type: Date,
    required: [true, "Joining Date is required"],
    default: Date.now,
  },
  
  // Uploaded Documents (e.g., ID Proof)
  idProofDoc: {
    type: String, // Store document as Base64 or URL
    default: "",
  },

  // System Fields
  isActive: {
    type: Boolean,
    default: true,
  },
}, { timestamps: true }); // Automatically adds createdAt and updatedAt

// Auto-generate ID before saving
staffSchema.pre("save", async function () {
  if (!this.staffId) {
    this.staffId = await generateStaffId();
  }
});

const staffModel = mongoose.models.staff || mongoose.model("staff", staffSchema);

export default staffModel;